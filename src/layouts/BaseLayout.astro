---
import "../styles/global.css";
import ThemeToggle from "../components/ThemeToggle.astro";
import ContactModal from "../components/ContactModal.astro";

const { title = "Portfolio" } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>

    <!-- Prevent "flash" of wrong theme -->
    <script>
      try {
        const saved = localStorage.getItem("theme");
        if (saved === "dark") document.documentElement.classList.add("dark");
      } catch {}
    </script>
  </head>

  <body>
    <header
      class="sticky top-0 z-50 border-b border-zinc-200 bg-white/80 backdrop-blur dark:border-zinc-800 dark:bg-zinc-950/70"
    >
      <div class="container-page flex items-center justify-between py-3">
        <a href="/" class="font-semibold tracking-tight no-underline">
          Syed Zayan Ali
        </a>

        <nav class="hidden items-center gap-5 sm:flex">
          <a href="#services" class="nav-link no-underline">Services</a>
          <a href="#projects" class="nav-link no-underline">Projects</a>
          <a href="#about" class="nav-link no-underline">About</a>

    <a href="#contact" class="nav-link no-underline">Contact</a>

        </nav>

        <div class="flex items-center gap-2">
          <ThemeToggle />
        </div>
      </div>
    </header>

    <main class="container-page">
      <slot />
    </main>

    <footer
      class="mt-16 border-t border-zinc-200 py-10 text-center text-sm text-zinc-500 dark:border-zinc-800"
    >
      Â© {new Date().getFullYear()} Syed Zayan Ali - Python Dev.
    </footer>

    <!-- Render the popup modal ONCE, globally -->
    <ContactModal />
  </body>
</html>
